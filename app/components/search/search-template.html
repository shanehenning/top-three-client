<nav-component display="true"></nav-component>

<section ng-init="$ctrl.retrieveData(); $ctrl.appendGoogleMaps()">
  <article class="contender" ng-repeat="item in $ctrl.api track by $index">
    <div class="panel-front">
    <div class="showcase-image" style="background-image: url('{{item.yelp.image_url}}')">
      <div ng-style="{backgroundImage: $ctrl.getCorner($index)}" class="badge"></div>
      <h5 ng-style="{backgroundImage: $ctrl.getHorizontal($index)}" class="review-badge">REVIEWS: {{item.yelp.review_count}}<span></span></h5>
    </div>
    <h2>{{item.yelp.name}}</h2>
    <!-- <a href="{{$ctrl.api.facebook[$index].data.data[0].website}}"><h4>{{$ctrl.api.facebook[$index].data.data[0].website}}</h4></a> -->
    <p>"{{item.yelp.snippet_text}}"</p>
    <h4 class="revolve revolve-right"
    ng-click="$ctrl.revolveRight($index); $ctrl.initMaps($index, item.yelp)">See where
      <img src="../../../app/resources/revolve-right.svg" alt="Flip"></h4>
    </div>

    <div class="panel-back">
      <div id="map-{{$index}}" class="map">
      </div>
      <div class="address">
        <h3>{{item.yelp.name}}</h3>
        <a href="{{$index.facebook.website}}"><h4>{{$index.facebook.website}}</h4></a>
        <p>{{item.yelp.display_phone}}<br/>
          <a href="http://maps.google.com/?q={{item.yelp.name}}">
        {{item.yelp.location.address[0]}}<br/>
        {{item.yelp.location.address[1]}}
        {{item.yelp.location.city}}, {{item.yelp.location.state_code}} {{item.yelp.location.postal_code}}</a></p>
      </div>
      <h4 class="revolve revolve-left"
      ng-click="$ctrl.revolveLeft($index)">
        <img src="../../../app/resources/revolve-left.svg" alt="Flip">Back</h4>
    </div>

    <div class="social-panel">
      <div class="facebook" ng-repeat="post in item.facebook.posts.data">
          <img src="{{post.full_picture}}">
          <h5>{{post.message}}</h5>
      </div>
      <div class="twitter" ng-repeat="status in item.twitter">
        <img src="{{status.user.profile_image_url_https}}" alt="Twitter User Profile Picture">
        <h5>{{status.text}}</h5>
      </div>
    </div>

  </article>
</section>
